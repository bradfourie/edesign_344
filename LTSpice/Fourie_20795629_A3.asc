Version 4
SHEET 1 3340 2212
WIRE 832 -768 832 -816
WIRE 1232 -768 1232 -816
WIRE 1728 -688 1728 -736
WIRE 832 -640 832 -688
WIRE 848 -640 832 -640
WIRE 992 -640 928 -640
WIRE 1136 -640 1088 -640
WIRE 1232 -640 1232 -688
WIRE 1232 -640 1216 -640
WIRE 832 -592 832 -640
WIRE 832 -592 720 -592
WIRE 1232 -592 1232 -640
WIRE 1328 -592 1232 -592
WIRE 80 -544 80 -560
WIRE 992 -544 1088 -640
WIRE 1088 -544 992 -640
WIRE 2016 -544 2016 -720
WIRE 2016 -544 1872 -544
WIRE 832 -528 832 -592
WIRE 1232 -528 1232 -592
WIRE 1728 -512 1728 -608
WIRE 1776 -512 1728 -512
WIRE 1872 -512 1872 -544
WIRE 1872 -512 1840 -512
WIRE 432 -480 432 -512
WIRE 992 -480 992 -544
WIRE 992 -480 896 -480
WIRE 1088 -480 1088 -544
WIRE 1168 -480 1088 -480
WIRE 1776 -480 1632 -480
WIRE 2016 -480 1840 -480
WIRE 400 -464 368 -464
WIRE 80 -448 80 -464
WIRE 80 -448 48 -448
WIRE 528 -448 464 -448
WIRE 80 -432 80 -448
WIRE 400 -432 368 -432
WIRE 832 -400 832 -432
WIRE 1232 -400 1232 -432
WIRE 432 -384 432 -416
WIRE 80 -336 80 -352
WIRE 784 -304 752 -304
WIRE 992 -304 992 -480
WIRE 992 -304 864 -304
WIRE 1088 -304 1088 -480
WIRE 1216 -304 1088 -304
WIRE 1328 -304 1296 -304
WIRE 2016 -304 2016 -480
WIRE 352 -272 352 -288
WIRE 80 -208 80 -224
WIRE 352 -176 352 -192
WIRE 400 -176 352 -176
WIRE 352 -160 352 -176
WIRE 2016 -160 2016 -224
WIRE 80 -112 80 -128
WIRE 80 -112 48 -112
WIRE 224 -112 80 -112
WIRE 288 -112 224 -112
WIRE 80 -96 80 -112
WIRE 224 -96 224 -112
WIRE 352 -32 352 -64
WIRE 80 0 80 -16
WIRE 1264 32 1264 -16
WIRE 608 48 608 0
WIRE 848 48 848 0
WIRE 1088 48 1088 0
WIRE 1264 176 1264 112
WIRE 608 192 608 128
WIRE 848 192 848 128
WIRE 1088 192 1088 128
FLAG 848 192 0
FLAG 848 0 5V
IOPIN 848 0 Out
FLAG 1088 192 0
FLAG 1088 0 v_current
IOPIN 1088 0 Out
FLAG 832 -400 0
FLAG 1232 -400 0
FLAG 832 -816 5V
IOPIN 832 -816 Out
FLAG 1232 -816 5V
IOPIN 1232 -816 Out
FLAG 1328 -592 Qbar
IOPIN 1328 -592 Out
FLAG 720 -592 Q
IOPIN 720 -592 Out
FLAG 752 -304 reset
IOPIN 752 -304 Out
FLAG 1328 -304 set
IOPIN 1328 -304 Out
FLAG 80 -336 0
FLAG 80 -560 5V
IOPIN 80 -560 Out
FLAG 48 -448 ref1
IOPIN 48 -448 Out
FLAG 368 -432 v_current
IOPIN 368 -432 Out
FLAG 432 -512 5V
IOPIN 432 -512 Out
FLAG 432 -384 0
FLAG 368 -464 ref1
IOPIN 368 -464 Out
FLAG 1632 -480 Q
IOPIN 1632 -480 Out
FLAG 1728 -736 5V
IOPIN 1728 -736 Out
FLAG 608 192 0
FLAG 608 0 18V
IOPIN 608 0 Out
FLAG 2016 -720 18V
IOPIN 2016 -720 Out
FLAG 2016 -160 0
FLAG 528 -448 set
IOPIN 528 -448 Out
FLAG 80 0 0
FLAG 80 -224 5V
IOPIN 80 -224 Out
FLAG 48 -112 ref2
IOPIN 48 -112 Out
FLAG 224 -32 0
FLAG 352 -32 0
FLAG 352 -288 5V
IOPIN 352 -288 Out
FLAG 400 -176 reset
IOPIN 400 -176 Out
FLAG 1264 176 0
FLAG 1264 -16 reset
IOPIN 1264 -16 Out
SYMBOL voltage 848 32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 1088 32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PWL(0 0 0.45 0 0.5 5)
SYMBOL npn 896 -528 M0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL npn 1168 -528 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL res 816 -784 R0
SYMATTR InstName R5
SYMATTR Value 1.8k
SYMBOL res 1216 -784 R0
SYMATTR InstName R6
SYMATTR Value 1.8k
SYMBOL res 1232 -656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName 12k
SYMATTR Value 12k
SYMBOL res 944 -656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 12k
SYMBOL res 880 -320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 12k
SYMBOL res 1200 -320 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 12k
SYMBOL res 64 -448 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res 64 -560 R0
SYMATTR InstName R10
SYMATTR Value 13.216k
SYMBOL Opamps\\opamp2 432 -512 R0
WINDOW 3 -119 118 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U1
SYMBOL voltage 608 32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value SINE(0 25.46 50)
SYMBOL res 2000 -320 R0
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL res 1712 -704 R0
SYMATTR InstName R4
SYMATTR Value 220
SYMBOL res 64 -112 R0
SYMATTR InstName R7
SYMATTR Value 12k
SYMBOL res 64 -224 R0
SYMATTR InstName R11
SYMATTR Value 47k
SYMBOL cap 208 -96 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL npn 288 -160 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res 336 -288 R0
SYMATTR InstName R13
SYMATTR Value 12k
SYMBOL AutoGenerated\\MOC3020 1808 -496 R0
SYMATTR InstName U3
SYMATTR ModelFile H:\E-design 344\Spice\MOC302x.lib
SYMBOL voltage 1264 16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 0
TEXT 272 168 Left 2 !.inc D1N4007.lib
TEXT 272 128 Left 2 !.tran 0 1.5 0 800m uic
TEXT 272 200 Left 2 !.inc TL081.lib
TEXT 272 232 Left 2 !.inc MOC302x.lib
TEXT 272 264 Left 2 !.inc BT134.lib
TEXT 264 96 Left 2 !.inc TLC2272.lib
