Version 4
SHEET 1 3340 2212
WIRE 304 -32 304 -64
WIRE 272 -16 240 -16
WIRE -1312 0 -1360 0
WIRE -1200 0 -1232 0
WIRE -1136 0 -1200 0
WIRE -1008 0 -1056 0
WIRE -784 0 -896 0
WIRE -608 0 -704 0
WIRE 416 0 336 0
WIRE 272 16 240 16
WIRE -1360 32 -1360 0
WIRE 16 32 16 16
WIRE -2016 48 -2128 48
WIRE -1840 48 -1936 48
WIRE 304 64 304 32
WIRE -2416 96 -2448 96
WIRE -2352 96 -2368 96
WIRE -2304 96 -2352 96
WIRE 528 96 496 96
WIRE 416 112 416 0
WIRE 432 112 416 112
WIRE -800 128 -800 96
WIRE 16 128 16 112
WIRE 16 128 -16 128
WIRE 560 128 560 80
WIRE 560 128 496 128
WIRE 592 128 560 128
WIRE 704 128 672 128
WIRE -2304 144 -2304 96
WIRE -1104 144 -1104 112
WIRE -896 144 -896 0
WIRE -832 144 -896 144
WIRE 16 144 16 128
WIRE 704 144 704 128
WIRE -1200 160 -1200 0
WIRE -1136 160 -1200 160
WIRE -720 160 -768 160
WIRE -608 160 -608 0
WIRE -608 160 -656 160
WIRE -496 160 -608 160
WIRE -432 160 -496 160
WIRE -2032 176 -2032 144
WIRE -1008 176 -1008 0
WIRE -1008 176 -1072 176
WIRE -992 176 -1008 176
WIRE -832 176 -912 176
WIRE -2128 192 -2128 48
WIRE -2064 192 -2128 192
WIRE -1136 192 -1264 192
WIRE -608 192 -608 160
WIRE 304 192 304 160
WIRE -1952 208 -2000 208
WIRE -1840 208 -1840 48
WIRE -1840 208 -1888 208
WIRE -1728 208 -1840 208
WIRE -1680 208 -1728 208
WIRE -496 208 -496 160
WIRE 272 208 240 208
WIRE -2304 224 -2352 224
WIRE -2224 224 -2304 224
WIRE -2064 224 -2144 224
WIRE 528 224 528 96
WIRE 528 224 336 224
WIRE -1840 240 -1840 208
WIRE -800 240 -800 192
WIRE 16 240 16 224
WIRE 272 240 240 240
WIRE -1728 256 -1728 208
WIRE -1104 256 -1104 208
WIRE -1008 256 -1008 176
WIRE 704 272 704 208
WIRE 304 288 304 256
WIRE -2032 304 -2032 240
WIRE -608 304 -608 272
WIRE -496 304 -496 272
WIRE -2304 352 -2304 304
WIRE -1840 352 -1840 320
WIRE -1728 352 -1728 320
WIRE 192 432 192 400
WIRE 352 432 352 400
WIRE 512 432 512 400
WIRE -928 480 -928 416
WIRE -816 480 -816 416
WIRE -704 480 -704 432
WIRE -2128 496 -2128 448
WIRE -2016 496 -2016 448
WIRE -1904 496 -1904 448
WIRE 192 576 192 512
WIRE 352 576 352 512
WIRE 512 576 512 512
WIRE -928 624 -928 560
WIRE -816 624 -816 560
WIRE -704 624 -704 560
WIRE -2128 640 -2128 576
WIRE -2016 640 -2016 576
WIRE -1904 640 -1904 576
FLAG -2128 640 0
FLAG -2016 640 0
FLAG -2016 448 -5V
IOPIN -2016 448 Out
FLAG -2128 448 5V
IOPIN -2128 448 Out
FLAG -2032 144 5V
IOPIN -2032 144 Out
FLAG -1728 352 0
FLAG -2304 352 0
FLAG -1840 352 0
FLAG -1904 640 0
FLAG -1904 448 input
IOPIN -1904 448 Out
FLAG -2448 96 input
IOPIN -2448 96 Out
FLAG -1680 208 voltage_peak
IOPIN -1680 208 Out
FLAG -2032 304 0
FLAG -2352 224 v_meas
IOPIN -2352 224 Out
FLAG -928 624 0
FLAG -816 624 0
FLAG -816 416 -5V
IOPIN -816 416 Out
FLAG -928 416 5V
IOPIN -928 416 Out
FLAG -800 96 5V
IOPIN -800 96 Out
FLAG -496 304 0
FLAG -608 304 0
FLAG -432 160 voltage_peak
IOPIN -432 160 Out
FLAG -800 240 -5V
IOPIN -800 240 Out
FLAG -704 624 0
FLAG -704 432 input
IOPIN -704 432 Out
FLAG -1104 112 5V
IOPIN -1104 112 Out
FLAG -1104 256 -5V
IOPIN -1104 256 Out
FLAG -1264 192 input
IOPIN -1264 192 Out
FLAG -1360 32 0
FLAG -1008 256 i_meas
IOPIN -1008 256 Out
FLAG 192 576 0
FLAG 192 400 5V
IOPIN 192 400 Out
FLAG 352 576 0
FLAG 352 400 input1
IOPIN 352 400 Out
FLAG 512 576 0
FLAG 512 400 input2
IOPIN 512 400 Out
FLAG 240 16 input1
IOPIN 240 16 Out
FLAG 304 -64 5V
IOPIN 304 -64 Out
FLAG 304 64 0
FLAG 560 80 pwm
IOPIN 560 80 Out
FLAG 240 240 input2
IOPIN 240 240 Out
FLAG 304 160 5V
IOPIN 304 160 Out
FLAG 304 288 0
FLAG 704 272 0
FLAG 16 240 0
FLAG 16 16 5V
IOPIN 16 16 Out
FLAG -16 128 ref
IOPIN -16 128 Out
FLAG 240 -16 ref
IOPIN 240 -16 Out
FLAG 240 208 ref
IOPIN 240 208 Out
SYMBOL voltage -2128 480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -2016 480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -5
SYMBOL Opamps\\opamp2 -2032 144 R0
WINDOW 3 -108 113 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U1
SYMBOL res -2320 128 R0
SYMATTR InstName R1
SYMATTR Value 56k
SYMBOL res -2320 208 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -1920 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap -1744 256 R0
WINDOW 0 32 -6 Left 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res -1856 224 R0
WINDOW 3 41 74 Left 2
SYMATTR Value 1000k
SYMATTR InstName R4
SYMBOL diode -1952 192 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value D1N4007
SYMBOL res -2128 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL diode -2416 80 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value D1N4007
SYMBOL voltage -1904 480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 28.2843 50)
SYMBOL voltage -928 464 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL voltage -816 464 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value -5
SYMBOL Opamps\\opamp2 -800 96 R0
WINDOW 3 -108 113 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U2
SYMBOL res -688 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL cap -512 208 R0
WINDOW 0 32 -6 Left 2
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL res -624 176 R0
WINDOW 3 41 74 Left 2
SYMATTR Value 1000k
SYMATTR InstName R7
SYMBOL diode -720 144 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value D1N4007
SYMBOL voltage -704 464 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 11 117 Left 2
SYMATTR Value SINE(0 8.55m 50)
SYMATTR InstName V6
SYMBOL Opamps\\opamp2 -1104 112 R0
WINDOW 3 -108 113 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U3
SYMBOL res -1040 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 470k
SYMBOL res -1216 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res -896 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL voltage 192 416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value 5
SYMBOL voltage 352 416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 11 117 Left 2
SYMATTR Value SINE(0 2 50)
SYMATTR InstName V8
SYMBOL voltage 512 416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 12 116 Left 2
SYMATTR Value SINE(0 2 50 0 0 90)
SYMATTR InstName V9
SYMBOL Opamps\\opamp2 304 -64 R0
WINDOW 3 -119 118 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U4
SYMBOL Opamps\\opamp2 304 160 R0
WINDOW 3 -122 115 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U5
SYMBOL cap 688 144 R0
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL res 688 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 20k
SYMBOL res 0 128 R0
SYMATTR InstName R12
SYMATTR Value 1.995k
SYMBOL res 0 16 R0
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL AutoGenerated\\XOR_2 464 112 R0
SYMATTR InstName U6
TEXT -2376 520 Left 2 !.inc TLC2272.lib
TEXT -2376 560 Left 2 !.lib D1N4007.lib
TEXT -2376 480 Left 2 !.tran 0 5 0 100m
TEXT -1176 512 Left 2 !.inc D1N4007.lib
TEXT -1176 552 Left 2 !.inc TLC2272.lib
TEXT -1176 472 Left 2 !.tran 0 0.1 0 50m
TEXT -80 472 Left 2 !.inc D1N4007.lib
TEXT -80 512 Left 2 !.inc TLC2272.lib
TEXT -80 432 Left 2 !.tran 0 1 0 50m
TEXT -80 544 Left 2 !.inc digital.lib
