Version 4
SHEET 1 3340 2212
WIRE -880 336 -880 256
WIRE -976 352 -976 336
WIRE -912 352 -976 352
WIRE -736 368 -848 368
WIRE -912 384 -1040 384
WIRE 64 384 -112 384
WIRE -976 416 -976 352
WIRE -32 480 -32 464
WIRE -560 496 -624 496
WIRE -112 496 -112 384
WIRE -64 496 -112 496
WIRE -976 512 -976 496
WIRE -880 512 -880 400
WIRE -736 512 -736 368
WIRE -688 512 -736 512
WIRE 64 512 64 384
WIRE 64 512 0 512
WIRE 128 512 64 512
WIRE -512 528 -624 528
WIRE -288 528 -304 528
WIRE -192 528 -208 528
WIRE -80 528 -112 528
WIRE -64 528 -80 528
WIRE -80 560 -80 528
WIRE -32 576 -32 544
WIRE -208 672 -208 528
WIRE -64 672 -208 672
WIRE 128 672 128 512
WIRE 128 672 0 672
WIRE -1680 704 -1680 640
WIRE -1584 704 -1584 640
WIRE -1408 704 -1408 640
WIRE -784 720 -784 640
WIRE -880 736 -880 720
WIRE -816 736 -880 736
WIRE -560 752 -560 496
WIRE -560 752 -752 752
WIRE -816 768 -944 768
WIRE -880 800 -880 736
WIRE -1680 848 -1680 784
WIRE -1584 848 -1584 784
WIRE -1408 848 -1408 784
WIRE -880 896 -880 880
WIRE -784 896 -784 784
WIRE -784 1088 -896 1088
WIRE -608 1088 -704 1088
WIRE -1200 1136 -1264 1136
WIRE -1072 1136 -1136 1136
WIRE -1072 1184 -1072 1136
WIRE -800 1216 -800 1184
WIRE -896 1232 -896 1088
WIRE -832 1232 -896 1232
WIRE -720 1248 -768 1248
WIRE -608 1248 -608 1088
WIRE -608 1248 -656 1248
WIRE -496 1248 -608 1248
WIRE -432 1248 -496 1248
WIRE -1680 1264 -1680 1216
WIRE -1568 1264 -1568 1216
WIRE -1456 1264 -1456 1216
WIRE -992 1264 -1072 1264
WIRE -832 1264 -912 1264
WIRE -608 1280 -608 1248
WIRE -496 1296 -496 1248
WIRE -800 1344 -800 1280
WIRE -1072 1392 -1072 1344
WIRE -608 1392 -608 1360
WIRE -496 1392 -496 1360
WIRE -1680 1408 -1680 1344
WIRE -1568 1408 -1568 1344
WIRE -1456 1408 -1456 1344
WIRE -1248 1776 -1296 1776
WIRE -1136 1776 -1168 1776
WIRE -1072 1776 -1136 1776
WIRE -944 1776 -992 1776
WIRE -720 1776 -832 1776
WIRE -544 1776 -640 1776
WIRE -1296 1808 -1296 1776
WIRE -736 1904 -736 1872
WIRE -1664 1920 -1664 1856
WIRE -1552 1920 -1552 1856
WIRE -1440 1920 -1440 1856
WIRE -1040 1920 -1040 1888
WIRE -832 1920 -832 1776
WIRE -768 1920 -832 1920
WIRE -1136 1936 -1136 1776
WIRE -1072 1936 -1136 1936
WIRE -656 1936 -704 1936
WIRE -544 1936 -544 1776
WIRE -544 1936 -592 1936
WIRE -432 1936 -544 1936
WIRE -368 1936 -432 1936
WIRE -944 1952 -944 1776
WIRE -944 1952 -1008 1952
WIRE -928 1952 -944 1952
WIRE -768 1952 -848 1952
WIRE -1072 1968 -1200 1968
WIRE -544 1968 -544 1936
WIRE -432 1984 -432 1936
WIRE -736 2016 -736 1968
WIRE -1040 2032 -1040 1984
WIRE -1664 2064 -1664 2000
WIRE -1552 2064 -1552 2000
WIRE -1440 2064 -1440 2000
WIRE -544 2080 -544 2048
WIRE -432 2080 -432 2048
FLAG -1680 1408 0
FLAG -1568 1408 0
FLAG -1568 1216 -5V
IOPIN -1568 1216 Out
FLAG -1680 1216 5V
IOPIN -1680 1216 Out
FLAG -800 1184 5V
IOPIN -800 1184 Out
FLAG -496 1392 0
FLAG -1072 1392 0
FLAG -608 1392 0
FLAG -1456 1408 0
FLAG -1456 1216 input
IOPIN -1456 1216 Out
FLAG -1264 1136 input
IOPIN -1264 1136 Out
FLAG -432 1248 voltage_peak
IOPIN -432 1248 Out
FLAG -800 1344 0
FLAG -1664 2064 0
FLAG -1552 2064 0
FLAG -1552 1856 -5V
IOPIN -1552 1856 Out
FLAG -1664 1856 5V
IOPIN -1664 1856 Out
FLAG -736 1872 5V
IOPIN -736 1872 Out
FLAG -432 2080 0
FLAG -544 2080 0
FLAG -368 1936 voltage_peak
IOPIN -368 1936 Out
FLAG -736 2016 -5V
IOPIN -736 2016 Out
FLAG -1440 2064 0
FLAG -1440 1856 input
IOPIN -1440 1856 Out
FLAG -1040 1888 5V
IOPIN -1040 1888 Out
FLAG -1040 2032 -5V
IOPIN -1040 2032 Out
FLAG -1200 1968 input
IOPIN -1200 1968 Out
FLAG -1296 1808 0
FLAG -1680 848 0
FLAG -1680 640 5V
IOPIN -1680 640 Out
FLAG -1584 848 0
FLAG -1584 640 input1
IOPIN -1584 640 Out
FLAG -976 512 0
FLAG -880 896 0
FLAG -1408 848 0
FLAG -1408 640 input2
IOPIN -1408 640 Out
FLAG -1040 384 input1
IOPIN -1040 384 Out
FLAG -944 768 input2
IOPIN -944 768 Out
FLAG -880 256 5V
IOPIN -880 256 Out
FLAG -880 512 0
FLAG -976 256 5V
IOPIN -976 256 Out
FLAG -880 640 5V
IOPIN -880 640 Out
FLAG -784 640 5V
IOPIN -784 640 Out
FLAG -784 896 0
FLAG -304 528 pwm
IOPIN -304 528 Out
FLAG -32 464 5V
IOPIN -32 464 Out
FLAG -32 576 0
FLAG -512 528 pwm
IOPIN -512 528 Out
FLAG -80 624 0
SYMBOL voltage -1680 1248 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -1568 1248 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -5
SYMBOL Opamps\\opamp2 -800 1184 R0
WINDOW 3 -108 113 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U1
SYMBOL res -1088 1168 R0
SYMATTR InstName R1
SYMATTR Value 56k
SYMBOL res -1088 1248 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -688 1072 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap -512 1296 R0
WINDOW 0 32 -6 Left 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res -624 1264 R0
WINDOW 3 41 74 Left 2
SYMATTR Value 1000k
SYMATTR InstName R4
SYMBOL diode -720 1232 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value D1N4007
SYMBOL res -896 1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL diode -1200 1120 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value D1N4007
SYMBOL voltage -1456 1248 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 28.2843 50)
SYMBOL voltage -1664 1904 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL voltage -1552 1904 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value -5
SYMBOL Opamps\\opamp2 -736 1872 R0
WINDOW 3 -108 113 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U2
SYMBOL res -624 1760 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL cap -448 1984 R0
WINDOW 0 32 -6 Left 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res -560 1952 R0
WINDOW 3 41 74 Left 2
SYMATTR Value 1000k
SYMATTR InstName R7
SYMBOL diode -656 1920 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value D1N4007
SYMBOL voltage -1440 1904 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 11 117 Left 2
SYMATTR Value SINE(0 8.55m 50)
SYMATTR InstName V6
SYMBOL Opamps\\opamp2 -1040 1888 R0
WINDOW 3 -108 113 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U3
SYMBOL res -976 1760 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 470k
SYMBOL res -1152 1760 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res -832 1936 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL voltage -1680 688 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value 5
SYMBOL voltage -1584 688 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 11 117 Left 2
SYMATTR Value SINE(0 2 50)
SYMATTR InstName V8
SYMBOL res -992 240 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res -992 400 R0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res -896 624 R0
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res -896 784 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL voltage -1408 688 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 11 117 Left 2
SYMATTR Value SINE(0 2 50 0 0 30)
SYMATTR InstName V9
SYMBOL AutoGenerated\\XOR_2 -656 512 R0
SYMATTR InstName U4
SYMBOL Opamps\\opamp2 -880 304 R0
WINDOW 3 9 103 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U5
SYMBOL Opamps\\opamp2 -784 688 R0
WINDOW 3 9 103 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U6
SYMBOL Opamps\\opamp2 -32 448 R0
WINDOW 3 9 103 Left 2
SYMATTR Value TLC2272
SYMATTR InstName U7
SYMBOL res -192 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMBOL res -96 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 36 53 VTop 2
SYMATTR InstName R16
SYMBOL cap 0 656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMBOL cap -64 624 R180
WINDOW 0 21 75 Left 2
WINDOW 3 39 24 Left 2
SYMATTR InstName C4
TEXT -1688 1024 Left 2 !.inc TLC2272.lib
TEXT -1688 1064 Left 2 !.lib D1N4007.lib
TEXT -1688 992 Left 2 !.tran 0 0.5 0 100m
TEXT -1640 1680 Left 2 !.inc D1N4007.lib
TEXT -1640 1720 Left 2 !.inc TLC2272.lib
TEXT -1640 1640 Left 2 !.tran 0 0.1 0 50m
TEXT -1704 416 Left 2 !.inc D1N4007.lib
TEXT -1704 456 Left 2 !.inc TLC2272.lib
TEXT -1704 376 Left 2 !.tran 0 0.1 0 50m
TEXT -1704 488 Left 2 !.inc digital.lib
